# Git学习笔记
[TOC]
December 1, 2017 5:56 PM
_ _ _

##1.Git版本控制概念
- 版本控制
版本控制是一种记录若干文件的**内容变化**，以便将来查阅特定版本修订情况的系统。即，版本控制系统（VCS）。
> 本人理解：开发一个项目的过程中，该系统对整个项目的**改动情况**进行记录，方便开发者进行查看，修改，如果想要回退到之前版本也很容易。
- 本地版本控制
**方式**：直接复制整个项目目录进行备份。
**优点**：备份很简单。
**缺点**：容易混淆工作目录；不方便查看历史改动；最难堪的是，一旦弄错的数据，就很难恢复。
- 集中化版本控制系统（CVCS）
该方法相较于本地VCS要好许多，至少能够让每一位开发者都能够了解到实时项目进度，能够同时进行改动，但缺点就是中央服务器的[单点故障](https://baike.baidu.com/item/单点故障/3570893?fr=aladdin)。如果中央服务器出一点毛病，那么将会波及到整个系统，数据丢失了的话，损失就更大了。
- 分布式版本控制系统
这个时候，客户端不只是提取最新的文件快照，而是将原始的代码仓库全部镜像下来，这个时候，协同工作用的服务器发生故障，那么也能够通过本地镜像进行还原。

##2.Git基本指令的使用
- 1.git init
**作用**：从当前目录（安装时默认的目录，比如：C:/USERS/MSI-PC/）初始化。执行如下代码：
```
$ git init
```
初始化后，当前目录会出现一个名为.git的目录，所有Git需要的数据和资源都放在这个目录中。（也就是初始化好了这个仓库的框架）
**注意**：生成的.git目录在电脑中可能是隐藏状态，需要去掉电脑中‘显示隐藏项目’选项。
- 2.git add [filename\Regular Expression]
**作用**：将当前目录下的某文件\符合正则表达式文件纳入版本控制。（相当于告诉仓库它之后对这个文件也要进行监控，管理）执行如下代码：
```
$ git add *.c
$ git add README
```
第一句话使得该目录下以.c为后缀的文件都纳入版本控制
第二句话使得名为README的文件纳入版本控制
**注意**：*git add*命令是一个多功能命令，根据目标文件的状态不同，此命令效果也不同，可以用于跟踪文件、或把已跟踪文件放入暂存区、还能用于在合并文件时将有冲突文件标记为已解决状态。
- 3.git clone [url (dirname)]
**作用**：从现有仓库克隆一份出来（Git收取的是项目历史所有的数据，也就是每一个文件的每一个版本）。运行如下代码：
```
$ git clone git://github.com/schacon/grit.git
```
这个会在当前目录下创建一个名为“grit”的目录，项目中所有的文件和数据都在里面。
如果不想用这个目录名称，那么可以在`dirname`指定一个目录名称，那么新建的目录就是这个新的目录名了。
**注意**：上面例子中用的是git://协议，也可以使用http(s)://协议或者user@server:/psth.git协议。
- 4.git status
**作用**：检查当前的文件状态。执行如下代码：
```
$ git status
```
会显示
```
# On branch master
nothing to commit (working directory clean)
```
表示当前工作目录很干净，还没有跟踪文件而且在当前目录下还没有处于未跟踪的新文件。该分支为master，这是默认分支名称。
现在添加一个新文件：
```
$ git add README
```
然后再运行一下上述代码，显示如下：
```
$ git status
# On branch master
# Changes to be committed:
#  (use "git reset HEAD <file>…" to unstage)
#
# new file:  README
#
```
**"Changes to be committed"**表示已暂存某文件。
如果修改一下之前已跟踪过的文件：
那么会显示：
```
……
Changed but not update:
……
```
表示已跟踪的文件的内容发生了变化，但是还未放入暂存区。
运行*git add*后，则该文件又被加入暂存区。
- 5..gitignore
**作用**：将需要忽略的文件模式写进.gitignore文件，那么我们就不用在未跟踪文件列表里面看到它们。
**例如**：首先，在当前目录创建一个.gitignore，然后通过Vim编辑器写入以下内容：
```
*.[oa]
*~
```
那么，第一句话将会忽略所有以‘.o’和以‘.a’结尾的文件。
**使用规范**：
 * 所有空行或者以 **#** 开头的行都会被忽略。
 * 可以使用标准的 glob 模式匹配。
 * 匹配模式后接反斜杠（/）表示忽略的是目录。
 * 要忽略指定文件以外的文件，那么在该文件模式前加！。

- 6.git diff [--cached]
*git status*显示的比较简单，只是显示已修改过的文件，如果要查看具体修改了那些地方，则需要用*git diff*命令，该命令会显示具体添加或删除的行。
如果后面未接[]中的内容，那么只是显示了当前文件和暂存区域中的快照差别，如果需要比较和上次提交时的差别，那么就需要使用*git diff --cached*命令。

- 7.git commit [-m]
**作用**：将暂存区的内容进行提交（只提交到本地）。
运行如下命令：
```
$ git commit
```
那么会启动编辑器显示相应信息，并提示添加提交说明。退出编辑器时，Git会将说明内容和更新提交到仓库。
当然，也可以直接使用*git commit -m "information"*的形式直接提交
